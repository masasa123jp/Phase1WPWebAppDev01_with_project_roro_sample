# RORO プラグインインストール手順（v1.6.0）

このパッケージには、プロジェクト RORO の WordPress 用プラグイン一式が含まれています。各プラグインは多言語表示（日本語・英語・中国語・韓国語）に対応しており、WordPress に簡単に導入できます。以下の手順に従ってインストールしてください。

## 同梱物一覧

|ファイル名|概要|
|---|---|
|`roro-core-wp-1.6.0.zip`|DB テーブル作成や共通処理を行うコアプラグイン。管理画面に「RORO 設定」メニューが追加されます。|
|`roro-auth-1.6.0.zip`|ログイン・ユーザー登録画面を提供する認証プラグイン。WordPress のユーザー API を利用します。|
|`roro-map-1.6.0.zip`|Google Maps を表示するプラグイン。ショートコード `[roro_map]` を使って地図を挿入します。|
|`roro-chatbot-1.6.0.zip`|チャットボット UI を表示するプラグイン。生成 AI サービスと連携することも可能です。|
|`roro-advice-1.6.0.zip`|ランダムなワンポイントアドバイスを表示するプラグイン。ショートコード `[roro_advice]` を提供します。|
|`roro-favorites-1.6.0.zip`|お気に入り機能を提供するプラグイン。ユーザーはスポットやイベントを保存できます。|
|`roro-assets-sql-manager-1.6.0.zip`|バンドルされた SQL スクリプトを実行するための管理者向けプラグイン。開発者用の補助ツールです。|
|`roro_plugins_final_bundle-20250822.zip`|上記の全プラグイン ZIP をまとめた統合バンドル。個別にインストールする代わりに使用できます。|
|`checksums.txt`|各 ZIP ファイルの SHA256 チェックサム。ダウンロード後に整合性を確認できます。|

## 前提条件

- WordPress 6.4 以上を推奨。
- PHP 8.3.21 以上、および MySQL 8.0 以上が必要です。
- サイトで Google Maps を利用する場合は `wp-config.php` に `define('RORO_MAP_API_KEY', 'あなたの API キー');` を追加してください。
- チャットボット機能で外部 AI サービスを利用する場合は、`wp-config.php` に以下の定数を設定してください。
  ```php
  define('RORO_CHATBOT_API_URL', 'https://api.example.com/chat');
  define('RORO_CHATBOT_API_KEY', 'your-api-key');
  ```

## インストール順序

1. WordPress 管理画面の「プラグイン > 新規追加 > プラグインのアップロード」から `roro-core-wp-1.6.0.zip` をアップロードして有効化します。初回有効化時に基本テーブルが作成されます。
2. 管理画面左メニューに「RORO 設定」が表示されます。クリックして「データベースセットアップを実行」ボタンを押し、DDL (`ddl.sql`) を適用します。これにより `roro_customer` などのテーブルが作成されます。
3. 続いて以下のプラグインを順番にインストール・有効化します（順不同でも動作しますが、依存関係を考慮した推奨順です）。
   - `roro-auth-1.6.0.zip` … ユーザー登録・ログイン機能。
   - `roro-map-1.6.0.zip` … 地図表示機能。API キーを設定してからご利用ください。
   - `roro-advice-1.6.0.zip` … ワンポイントアドバイス機能。
   - `roro-favorites-1.6.0.zip` … お気に入り機能。
   - `roro-chatbot-1.6.0.zip` … チャットボット機能。外部サービスと連携する場合は API URL/キーを設定してください。
   - `roro-assets-sql-manager-1.6.0.zip` … SQL スクリプト管理ツール（任意）。
4. まとめて導入する場合は `roro_plugins_final_bundle-20250822.zip` を展開し、中に含まれる各プラグイン ZIP をアップロードしてください。

## 使い方の概要

- **認証フォーム**: 投稿や固定ページの本文中に `[roro_login]` または `[roro_signup]` を記述するとログインフォームや登録フォームが表示されます。各フィールドやボタンはサイトの言語設定に応じて自動翻訳されます。
- **地図表示**: `[roro_map center_lat="35.6895" center_lng="139.6917" zoom="12" markers='[{"lat":35.6895,"lng":139.6917,"title":"Tokyo"}]']` のようにショートコードを記述すると、地図に指定座標のマーカーを配置できます。マーカー配列は JSON 形式で指定します。
- **チャットボット**: `[roro_chatbot]` を追加するとチャット UI が表示されます。API URL とキーを設定している場合は外部サービスと会話できます。未設定の場合は入力内容をそのままエコーバックします。
- **アドバイス**: `[roro_advice]` を記述すると、事前に定義されたアドバイスからランダムに１件が表示されます。
- **お気に入り**: ページに `[roro_favorites]` を配置するとログイン中のユーザーの登録済みお気に入り一覧が表示されます。お気に入り登録リンクは別途生成する必要があります（例：`<a href="?roro_favorite_action=add&roro_favorite_item=spot_123">お気に入りに追加</a>`）。

## 注意事項

- これらのプラグインは参考実装です。実運用の際はセキュリティや入力検証などを十分に考慮してください。
- データベーススキーマや UI／機能要件はプロジェクトの仕様に合わせて追加・修正する必要があります。
- 外部サービスとの連携（Google Maps、AI チャットなど）は各 API の利用規約に従ってください。

以上でインストール手順は完了です。ご不明点や機能追加のご要望がありましたらプロジェクトチームまでお問い合わせください。